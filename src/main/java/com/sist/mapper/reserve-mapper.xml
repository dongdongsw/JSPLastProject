<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.mapper.reserve-mapper">
	<select id="reserveFoodListData" resultType="FoodVO" parameterType="string">
		SELECT fno, name, poster, type, rownum
		FROM (
			SELECT fno, name, poster, type
			FROM menupan_food 
			ORDER BY fno
		)
		WHERE rownum&lt;=100 AND type LIKE '%'||#{type}||'%'
	</select>
	<select id="reserveDateTimes" resultType="string" parameterType="int">
		SELECT times FROM reserve_date
		WHERE dno = #{dno}
	</select>
	<select id="reserveTime" resultType="string" parameterType="int">
		SELECT time FROM reserve_time
		WHERE tno = #{tno}		
	</select>
	
	<insert id="reserveInsert" parameterType="ReserveVO">
		INSERT INTO reserve_info
		VALUES(
			ri_no_seq.nextval, #{id}, #{fno}, #{rday}, #{time}, #{inwon}, #{ok}, SYSDATE 
		) 
	</insert>
	<resultMap type="ReserveVO" id="reserveMap">
		<result property="fvo.poster" column="poster"/>
		<result property="fvo.name" column="name"/>
		<result property="fvo.phone" column="phone"/>
		
	</resultMap>
	
	
	
	
</mapper>